<?xml version="1.0" encoding="utf-8"?>
<configdata>
    <!-- Admin Begin-->
   	
	<!--<rule id="stage-builder">
        <priority>NORMAL</priority>
        <source>^/builder(.*)</source>
        <reverse>/builder</reverse>
        <destination>
            <url>/ui/restricted/blocks$1</url>
        </destination>
        <accept_path_info />
    </rule>      
	<rule id="stage-console">
        <priority>NORMAL</priority>
        <source>^/restricted(.*)</source>
        <reverse>/restricted</reverse>
        <destination>
            <url>/ui/restricted/blocks$1</url>
        </destination>
        <accept_path_info />
    </rule>
	<rule id="stage-ecommerce">
        <priority>NORMAL</priority>
        <source>^/ecommerce(.*)</source>
        <reverse>/ecommerce</reverse>
        <destination>
            <url>/ui/restricted/ecommerce$1</url>
        </destination>
        <accept_path_info />
    </rule>--> 

	<!--<rule>
        <priority>NORMAL</priority>
        <source>^/admin/system(.*)</source>
        <destination>
            <url>/conf/gallery$1</url>
        </destination>
        <accept_path_info />
    </rule> -->

	<rule>
        <priority>NORMAL</priority>
        <source>^/admin/services(.*)</source>
        <destination>
            <url>/ui/services$1</url>
        </destination>
        <accept_path_info />
    </rule>     
	<rule>
        <priority>NORMAL</priority>
        <source>^/admin/auth(.*)</source>
        <destination>
            <url>/ui/restricted/auth$1</url>
        </destination>
        <accept_path_info />
    </rule>     


	<!--Admin End -->
    <!-- Updater Begin-->
    <rule>
        <priority>NORMAL</priority>
        <source>^/install(.*)</source>
        <destination>
            <url>/conf/gallery/install$1</url>
        </destination>
        <accept_path_info />
    </rule>
    <rule id="updater">
        <priority>NORMAL</priority>
        <source>^/updater/check(.*)</source>
        <reverse>/updater/check</reverse>
        <destination>
            <url>/conf/gallery/updater/check$1</url>
        </destination>
        <accept_path_info />
        <index>9999</index>
    </rule>
    <!-- Updater End-->
    <rule id="error">
        <priority>NORMAL</priority>
        <source>^/error(.*)</source>
        <reverse>/error</reverse>
        <destination>
            <url>/conf/gallery/error$1</url>
        </destination>
        <accept_path_info />
    </rule>
    <rule id="sitemap">
        <priority>HIGH</priority>
        <source>(.*)/sitemap(.*)</source>
        <destination>
            <url>/conf/gallery/sitemap$1/params$2</url>
        </destination>
        <accept_path_info />
        <blocking>true</blocking>
    </rule>
    <rule id="feed">
        <priority>HIGH</priority>
        <source>(.*)/feed(.*)</source>
        <destination>
            <url>/conf/gallery/sitemap$1/params$2</url>
        </destination>
        <accept_path_info />
        <blocking>true</blocking>
    </rule> 
    <rule id="manifest">
        <priority>HIGH</priority>
        <source>^/manifest\.(.*)</source>
        <destination>
            <url>/conf/gallery/sitemap/manifest.$1</url>
        </destination>
        <accept_path_info />
        <blocking>true</blocking>
    </rule>     
    <!-- Frame Begin-->
    <rule id="frame">
        <priority>HIGH</priority>
        <source>^/frame(.*)</source>
        <reverse>/frame</reverse>
        <destination>
            <url>/conf/gallery/sys/frame$1</url>
        </destination>
        <accept_path_info />
        <blocking>true</blocking>
        <index>20</index>
    </rule>
    <!--
	<rule id="shard">
        <priority>HIGH</priority>
        <source>^/shard(.*)</source>
        <reverse>/shard</reverse>
        <destination>
            <url>/conf/gallery/sys/frame$1</url> 
        </destination>
        <accept_path_info />
        <blocking>true</blocking>
        <index>20</index>
    </rule>
	<rule id="block">
        <priority>HIGH</priority>
        <source>^/block(.*)</source>
        <reverse>/block</reverse>
        <destination>
            <url>/conf/gallery/sys/frame$1</url> 
        </destination>
        <accept_path_info />
        <blocking>true</blocking>
        <index>20</index>
    </rule>    
	<rule id="anagraph">
        <priority>HIGH</priority>
        <source>^/anagraph(.*)</source>
        <reverse>/anagraph</reverse>
        <destination>
            <url>/conf/gallery/sys/frame$1</url> 
        </destination>
        <accept_path_info />
        <blocking>true</blocking>
        <index>20</index>
    </rule>
    <rule id="gallery">
        <priority>HIGH</priority>
        <source>^/gallery(.*)</source>
        <reverse>/gallery</reverse>
        <destination>
            <url>/conf/gallery/sys/frame$1</url>
        </destination>
        <accept_path_info />
        <blocking>true</blocking>
        <index>20</index>
    </rule>
	<rule id="publish">
        <priority>HIGH</priority>
        <source>^/publish(.*)</source>
        <reverse>/publish</reverse>
        <destination>
            <url>/conf/gallery/sys/frame$1</url> 
        </destination>
        <accept_path_info />
        <blocking>true</blocking>
        <index>20</index>
    </rule>
    <rule id="marker">
        <priority>HIGH</priority>
        <source>^/marker(.*)</source>
        <reverse>/marker</reverse>
        <destination>
            <url>/conf/gallery/sys/frame$1</url> 
        </destination>
        <accept_path_info />
        <blocking>true</blocking>
        <index>20</index>
    </rule>
    <rule id="menu">
        <priority>HIGH</priority>
        <source>^/menu(.*)</source>
        <reverse>/menu</reverse>
        <destination>
            <url>/conf/gallery/sys/frame$1</url>
        </destination>
        <accept_path_info />
        <blocking>true</blocking>
        <index>20</index>
    </rule>
    <rule id="album">
        <priority>HIGH</priority>
        <source>^/album(.*)</source>
        <reverse>/album</reverse>
        <destination>
            <url>/conf/gallery/sys/frame$1</url>
        </destination>
        <accept_path_info />
        <blocking>true</blocking>
        <index>20</index>
    </rule>
    <rule id="tag">
        <priority>HIGH</priority>
        <source>^/tag(.*)</source>
        <reverse>/tag</reverse>
        <destination>
            <url>/conf/gallery/sys/frame$1</url>
        </destination>
        <accept_path_info />
        <blocking>true</blocking>
        <index>20</index>
    </rule>-->
 	<!-- Frame End-->
 	<!-- Services Begin-->
    <!--<rule id="api">
        <priority>NORMAL</priority>
        <source>(?!^/updater/check/file(.*))/api(/[^/]*)(.*)</source>
        <reverse>/api</reverse>
        <destination>
            <url>/conf/gallery/api$2/index.php$3</url>
        </destination>
        <accept_path_info />
    </rule>
    <rule id="services">
        <priority>NORMAL</priority>
        <source>^(/srv|/restricted/srv)(.*)</source>
        <reverse>/srv</reverse>
        <destination>
            <url>/conf/gallery/sys/services$2</url>
        </destination>
        <accept_path_info />
    </rule>-->
    <!--<rule id="notify">
        <priority>NORMAL</priority>
        <source>^/notify(.*)</source>
        <reverse>/notify</reverse>
        <destination>
            <url>/conf/gallery/modules$1</url>
        </destination>
        <accept_path_info />
    </rule>-->
    <!--<rule id="search">
        <priority>NORMAL</priority>
        <source>^/search(.*)</source>
        <reverse>/search</reverse>
        <destination>
            <url>/conf/gallery/search$1</url>
        </destination>
        <accept_path_info />
    </rule>-->

	<!-- User Begin-->
    <!--<rule id="profile">
        <priority>NORMAL</priority>
        <source>^/user(.*)</source>
        <reverse>/user</reverse>
        <destination>
            <url>/conf/gallery/auth/profile$1</url>
        </destination>
        <accept_path_info />
    </rule>
    <rule id="account">
        <priority>NORMAL</priority>
        <source>^/user/account(.*)</source>
        <reverse>/user/account</reverse>
        <destination>
            <url>/conf/gallery/auth/profile/account$1</url>
        </destination>
        <accept_path_info />
    </rule>      
    <rule id="vgallery">
        <priority>NORMAL</priority>
        <source>^/user/vgallery(.*)</source>
        <reverse>/user/vgallery</reverse>
        <destination>
            <url>/ui/restricted/blocks/contents$1</url>
        </destination>
        <accept_path_info />
    </rule>
    <rule>
        <priority>NORMAL</priority>
        <source>^/user/vgallery(/[^/]+)*/modify$</source>
        <destination>
            <url>/ui/restricted/blocks/contents/modify$1</url>
        </destination>
        <accept_path_info />
    </rule>
    <rule id="gallery">
        <priority>NORMAL</priority>
        <source>^/user/resources(.*)</source>
        <reverse>/user/resources</reverse>
        <destination>
            <url>/ui/restricted/albums/resources$1</url>
        </destination>
        <accept_path_info />
    </rule>
    <rule id="draft">
        <priority>NORMAL</priority>
        <source>^/user/draft(.*)</source>
        <reverse>/user/draft</reverse>
        <destination>
            <url>/ui/restricted/wysiwyg$1</url>
        </destination>
        <accept_path_info />
    </rule>
    <rule id="menu">
        <priority>NORMAL</priority>
        <source>^/user/menu(.*)</source>
        <reverse>/user/menu</reverse>
        <destination>
            <url>/ui/restricted/spages$1</url>
        </destination>
        <accept_path_info />
    </rule>
    <rule id="ecommerce">
        <priority>NORMAL</priority>
        <source>^/user/ecommerce(.*)</source>
        <reverse>/user/ecommerce</reverse>
        <destination>
            <url>/conf/gallery/ecommerce/manage$1</url>
        </destination>
        <accept_path_info />
    </rule>
    <rule>
        <priority>NORMAL</priority>
        <source>^/user/ecommerce/preview(.*)</source>
        <destination>
            <url>/conf/gallery/ecommerce/documents/bill/preview$1</url>
        </destination>
        <accept_path_info />
    </rule>
    <rule>
        <priority>NORMAL</priority>
        <source>^/user/ecommerce/form(.*)</source>
        <destination>
            <url>/ui/addons/form/contents$1</url>
        </destination>
        <accept_path_info />
    </rule>
    <rule id="wishlist">
        <priority>NORMAL</priority>
        <source>^/user/wishlist(.*)</source>
        <reverse>/user/wishlist</reverse>
        <destination>
            <url>/conf/gallery/ecommerce/cart/wishlist$1</url>
        </destination>
        <accept_path_info />
    </rule>
    <rule id="cart">
        <priority>NORMAL</priority>
        <source>^/user/cart(.*)</source>
        <reverse>/user/cart</reverse>
        <destination>
            <url>/conf/gallery/ecommerce/cart$1</url>
        </destination>
        <accept_path_info />
    </rule>
    <rule id="mpay">
        <priority>NORMAL</priority>
        <source>^/user/mpay(.*)</source>
        <reverse>/user/mpay</reverse>
        <destination>
            <url>/conf/gallery/ecommerce/mpay$1</url>
        </destination>
        <accept_path_info />
    </rule>-->
    <!-- User End-->
    <!--<rule id="module_resource">
        <priority>NORMAL</priority>
        <source>^/ext/modules(.*)</source>
        <reverse>/ext/modules</reverse>
        <destination>
            <url>/ui/addons$1</url>
        </destination>
        <accept_path_info />
    </rule>-->
    
<!-- Frontend Special End-->
</configdata>
